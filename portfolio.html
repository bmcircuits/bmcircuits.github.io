---
layout: default
title: Portfolio
permalink: /portfolio.html
---

<section id="main" class="wrapper">
  <div class="inner">
    <header class="align-center">
      <h2>Portfolio</h2>
      <p>Browse selected projects by tag</p>
    </header>

    {% comment %}
    Build a unique sorted list of tags across all projects
    {% endcomment %}
    {% assign tag_set = '' | split: ',' %}
    {% for p in site.projects %}
      {% if p.tags %}
        {% for t in p.tags %}
          {% assign tag_lower = t | downcase %}
          {% unless tag_set contains tag_lower %}
            {% assign tag_set = tag_set | push: tag_lower %}
          {% endunless %}
        {% endfor %}
      {% endif %}
    {% endfor %}
    {% assign tag_set = tag_set | sort %}

    <div class="portfolio-controls">
      <button class="filter-btn active" data-tag="all">All</button>
      {% for t in tag_set %}
        <button class="filter-btn" data-tag="{{ t }}">#{{ t }}</button>
      {% endfor %}
    </div>

    <div id="portfolio-grid" class="portfolio-grid">
      {% assign items = site.projects | sort: 'year' | reverse %}
      {% for p in items %}
        {% assign tags = p.tags | default: [] %}
        {% assign data_tags = tags | map: 'downcase' | join: ' ' %}
        {% assign first_image = nil %}
        {% if p.images and p.images.size > 0 %}
          {% assign img0 = p.images[0] %}
          {% if img0.src %}
            {% assign first_image = img0.src %}
          {% else %}
            {% assign first_image = img0 %}
          {% endif %}
        {% endif %}
        {% assign thumb = first_image | default: '/images/banner.jpg' %}
        <article class="portfolio-card" data-tags="{{ data_tags }}">
          <a href="{{ p.url | relative_url }}">
            <img class="thumb" data-src="{{ thumb | relative_url }}" alt="{{ p.title }} thumbnail" loading="lazy">
          </a>
          <div class="content">
            <div class="title">{{ p.title }}</div>
            {% if p.summary %}<div class="summary">{{ p.summary }}</div>{% endif %}
            <div class="tags">
              {% for t in tags %}
                <span class="badge badge-tag">#{{ t }}</span>
              {% endfor %}
            </div>
          </div>
        </article>
      {% endfor %}
    </div>
  </div>
</section>
